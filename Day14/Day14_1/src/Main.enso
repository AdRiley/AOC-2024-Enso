from Standard.Base import all
from Standard.Table import all
from Standard.Database import all
from Standard.AWS import all
from Standard.Google_Api import all
from Standard.Snowflake import all
import Standard.Examples
import Standard.Visualization

## ICON group
collapsed any1 integer1 =
    node1 = 0.up_to 101 True
    node2 = 0.up_to 103 True
    table3 = node1.to_table "x"
    table4 = node2.to_table "y"
    table5 = table3.cross_join table4 Nothing
    text1 = integer1.format '0'
    any8 = any1.set (expr '([p_x]+[v_x]*'+text1+') % 101') "x"
    any9 = any8.set (expr '([p_y]+[v_y]*'+text1+') % 103') "y"
    any10 = any9.set (expr 'if [x]<0 then [x]+101 else [x]') "x" set_mode=..Update
    any11 = any10.set (expr 'if [y]<0 then [y]+103 else [y]') "y" set_mode=..Update
    any2 = any11.distinct ['x', 'y']
    any12 = any2.set "â– " "Value"
    any13 = any12.select_columns ['x', 'y', 'Value']
    table6 = table5.join any13 ..Left_Outer [(..Equals 'x'), (..Equals 'y')]
    table7 = table6.fill_nothing ['Value'] " "
    any14 = table7.aggregate ['y'] [..Concatenate 'Value' "Row"]
    any15 = any14.aggregate [] [..Concatenate 'Row' separator='\n']
    node3 = any15.at 0
    node4 = node3.at 0
    integer2 = any2.row_count
    integer2

main =
    file1 = Data.read '/Users/adriley/Code/AOC-2024-Enso/Day14/input.txt'
    any1 = file1.parse_to_table (regex "p=(?<p_x>\d+),(?<p_y>\d+) v=(?<v_x>-{0,1}\d+),(?<v_y>-{0,1}\d+)")
    any2 = any1.set (expr '([p_x]+[v_x]*100) % 101') "x"
    any3 = any2.set (expr '([p_y]+[v_y]*100) % 103') "y"
    any4 = any3.set (expr 'if [x]<0 then [x]+101 else [x]') "x" set_mode=..Update
    any5 = any4.set (expr 'if [y]<0 then [y]+103 else [y]') "y" set_mode=..Update
    any6 = any5.set (expr 'if [x]<50 && [y]<51 then 1 else if [x]<50 && [y]>51 then 2 else if [x]>50 && [y]<51 then 3 else if [x]>50 && [y]>51 then 4 else Nothing ') "Quadrant"
    any7 = any6.aggregate ['Quadrant'] [..Count]
    table1 = any7.filter_blank_rows
    table2 = table1.running ..Product 'Count'
    node1 = 0.up_to 10000
    vector1 = node1.map i->(Main.collapsed any1 i)
    any8 = vector1.to_table
    table3 = any8.add_row_number
    any9 = table3.filter 'Value' (..Equal 500)
    node2 = node1.at 7916
    node4 = Main.collapsed any1 node2



#### METADATA ####
[[{"index":{"value":275},"size":{"value":4}},"e065d157-33fb-4ba1-bb24-bc60dbd979d4"],[{"index":{"value":280},"size":{"value":8}},"990185ee-1840-44e9-9074-9f4f30dd7d4b"],[{"index":{"value":303},"size":{"value":11}},"3eed61dc-d75c-4c49-8e9e-6b2d8a22a543"],[{"index":{"value":303},"size":{"value":16}},"defd54b4-fe29-481b-ae28-6023e37bf616"],[{"index":{"value":332},"size":{"value":11}},"c8e982c3-4dc7-4341-8bf4-d248b5497c33"],[{"index":{"value":332},"size":{"value":16}},"05a43004-2040-4815-95bd-415e7d64db91"],[{"index":{"value":362},"size":{"value":14}},"ab48b6d2-fbee-45f9-b53f-0c4655627a0d"],[{"index":{"value":362},"size":{"value":18}},"f86919ba-450b-474b-84bb-150c53b590ab"],[{"index":{"value":394},"size":{"value":14}},"fc96b1f5-b823-4e9b-bfe7-a50fd2b61816"],[{"index":{"value":394},"size":{"value":18}},"823e5452-6ddf-48d6-b315-161d5a962a2c"],[{"index":{"value":426},"size":{"value":17}},"b68fd35f-0701-43d7-9290-4319627bca68"],[{"index":{"value":426},"size":{"value":24}},"4740691a-b3ec-422f-8ae3-bda7346b4e6a"],[{"index":{"value":426},"size":{"value":32}},"e5c5c591-cbc8-4764-a1a7-5676ae1719ee"],[{"index":{"value":471},"size":{"value":15}},"253c5daf-917c-4c7c-915e-7949ebb646cf"],[{"index":{"value":471},"size":{"value":19}},"a405e6a1-cdad-43fe-a9c5-05730a4b2dc0"],[{"index":{"value":502},"size":{"value":51}},"8378a3d8-b8f7-45ac-a0ec-d6b52842a02b"],[{"index":{"value":565},"size":{"value":51}},"e6927870-5f06-4984-aa82-8dfa13e6f834"],[{"index":{"value":629},"size":{"value":70}},"35f467ea-ace4-44de-bd2f-73bc0f34ee3f"],[{"index":{"value":712},"size":{"value":71}},"f1d04280-74c5-49c8-8605-48859f65799d"],[{"index":{"value":795},"size":{"value":14}},"a36a0793-8299-46d0-a1e3-ac856f882c91"],[{"index":{"value":795},"size":{"value":25}},"8d56a574-8889-485a-a125-5f106018999a"],[{"index":{"value":833},"size":{"value":8}},"9d6023fe-e42f-45c3-863f-e811d54eaf7a"],[{"index":{"value":833},"size":{"value":12}},"8e01f845-e16e-478a-a303-6a3c228cc972"],[{"index":{"value":833},"size":{"value":20}},"805e7d74-a355-4a02-a4c6-5faa034e51e1"],[{"index":{"value":866},"size":{"value":20}},"49197a44-ae91-4f48-a72a-f7c46918d03d"],[{"index":{"value":866},"size":{"value":40}},"3cf50528-7155-46ff-9163-d9fe9b7779bf"],[{"index":{"value":920},"size":{"value":11}},"eae5d049-6001-45c0-8eab-18c76fdc3d2d"],[{"index":{"value":920},"size":{"value":17}},"23c78a12-4e54-4fd7-871a-6beaca2b4855"],[{"index":{"value":920},"size":{"value":30}},"7fab946e-cc20-4ad6-95ad-ed3f5c99fd92"],[{"index":{"value":920},"size":{"value":63}},"d6e7b3d3-b9a3-4ca2-b3a9-4276b7e364c6"],[{"index":{"value":997},"size":{"value":19}},"23e6c860-3327-4bd3-9111-000128ded88d"],[{"index":{"value":997},"size":{"value":29}},"9ca3a232-ea3f-4a56-a035-add91ce17dee"],[{"index":{"value":997},"size":{"value":33}},"d58c39f0-465f-4a49-a21e-29b622b533e5"],[{"index":{"value":1043},"size":{"value":16}},"77e3c903-5b29-46b4-a4f8-8bf03c39ea74"],[{"index":{"value":1043},"size":{"value":22}},"5e6e2433-a1e7-4f3e-9cfc-629a0c3ea03d"],[{"index":{"value":1043},"size":{"value":52}},"442f7046-1b00-4cfa-ae7e-b7cd2fb06b48"],[{"index":{"value":1108},"size":{"value":15}},"9c399dbe-bc94-420f-b291-c67a2b96d2d9"],[{"index":{"value":1108},"size":{"value":18}},"7acca65b-2e6b-48d7-835e-04f7a5de33b8"],[{"index":{"value":1108},"size":{"value":55}},"c2f5ac1c-1c53-4dc0-87aa-88430e9f1cfa"],[{"index":{"value":1176},"size":{"value":10}},"d18f9577-b3a7-4ef6-a6c8-58b1f555caea"],[{"index":{"value":1199},"size":{"value":10}},"dd205d39-ec7c-435f-a110-f2ab669cf58a"],[{"index":{"value":1225},"size":{"value":14}},"c261bd3a-4a7a-4be3-ac10-850d040e6900"],[{"index":{"value":1244},"size":{"value":8}},"0bd61948-07e8-428a-bcaf-44f39e9e41dc"],[{"index":{"value":1273},"size":{"value":61}},"fcf199e6-d2b1-44b7-be92-a47545d6a593"],[{"index":{"value":1346},"size":{"value":20}},"855eb032-48c9-4b4c-892c-6c4ba34d9ddf"],[{"index":{"value":1346},"size":{"value":94}},"c35eb0d9-14ec-47d6-9aa8-5f41d668c156"],[{"index":{"value":1452},"size":{"value":8}},"6f89d72e-0090-4243-ba6e-57f084fc580d"],[{"index":{"value":1452},"size":{"value":41}},"69bcb859-0646-460d-be30-a953dbc9ac1d"],[{"index":{"value":1452},"size":{"value":45}},"a1a8b489-b13d-4aa3-8e2e-bfa43a94bb58"],[{"index":{"value":1509},"size":{"value":45}},"96dc6744-145b-4576-a271-202aa7bfe88c"],[{"index":{"value":1566},"size":{"value":8}},"4ac001dd-ec76-4072-bdac-de24b744dc46"],[{"index":{"value":1566},"size":{"value":48}},"6c615633-8175-47ee-9f5f-c71aa3261b1f"],[{"index":{"value":1566},"size":{"value":52}},"3d1e8db8-4093-4177-b054-7e1b51a1a9c2"],[{"index":{"value":1566},"size":{"value":70}},"9b7de8de-fb9f-49f5-8dc7-1b75e1288f24"],[{"index":{"value":1648},"size":{"value":70}},"45604ca5-5e4f-4069-a7bd-3783a8fc23b2"],[{"index":{"value":1730},"size":{"value":8}},"8c26b5dc-a4d7-4fae-9612-4999999bcf41"],[{"index":{"value":1730},"size":{"value":154}},"5b52db21-a613-4056-aeb8-971950e17bff"],[{"index":{"value":1730},"size":{"value":165}},"477f54c6-a15a-471e-bd52-18b1048f5b39"],[{"index":{"value":1907},"size":{"value":14}},"2b47d6dc-e2dc-432a-8d89-d3875b6a110d"],[{"index":{"value":1907},"size":{"value":27}},"7c92c2fa-9148-4152-9e20-2c8ff9c29d1f"],[{"index":{"value":1907},"size":{"value":37}},"178fe402-1c97-4682-8460-8518e3f357f0"],[{"index":{"value":1958},"size":{"value":22}},"961e2e64-0fdd-49c9-b7b0-c96fbae433c6"],[{"index":{"value":1994},"size":{"value":14}},"6547d128-4348-461d-ac01-eacc63774170"],[{"index":{"value":1994},"size":{"value":24}},"7791b01e-8a15-4035-ad41-c7f2b8198213"],[{"index":{"value":1994},"size":{"value":32}},"53d45068-a9b6-4470-91e9-03f6c9ac9808"],[{"index":{"value":2039},"size":{"value":13}},"10ad4daa-2726-4715-8027-12db53f55483"],[{"index":{"value":2067},"size":{"value":9}},"b5d0ce94-7115-4fba-a91e-7086b4ec311d"],[{"index":{"value":2067},"size":{"value":36}},"3037d347-987b-4fde-9a7f-d8f89c5e2a53"],[{"index":{"value":2115},"size":{"value":16}},"a3194ff3-1f93-478c-9202-5f6f6a21ed3b"],[{"index":{"value":2145},"size":{"value":19}},"e7208998-9688-425a-abb9-36621003639e"],[{"index":{"value":2176},"size":{"value":13}},"918ab292-a0ec-4b65-a273-f6d0763422fd"],[{"index":{"value":2176},"size":{"value":21}},"7e9a8c44-3302-4f11-bcb9-cfe405ab4ec5"],[{"index":{"value":2176},"size":{"value":35}},"b4fa77f5-3ec3-4249-a76b-87fd6a466ebf"],[{"index":{"value":2224},"size":{"value":13}},"d2e6d29d-8181-4876-b51b-48730ad904e9"],[{"index":{"value":2250},"size":{"value":25}},"2d6fe3a2-d00d-44e5-862a-52eb46bc695c"]]
{"ide":{"node":{"e065d157-33fb-4ba1-bb24-bc60dbd979d4":{"position":{"vector":[776,570]}},"990185ee-1840-44e9-9074-9f4f30dd7d4b":{"position":{"vector":[1029,570]}},"defd54b4-fe29-481b-ae28-6023e37bf616":{"position":{"vector":[1438,417]}},"3eed61dc-d75c-4c49-8e9e-6b2d8a22a543":{"position":{"vector":[1438,417]}},"05a43004-2040-4815-95bd-415e7d64db91":{"position":{"vector":[1720,417]}},"c8e982c3-4dc7-4341-8bf4-d248b5497c33":{"position":{"vector":[1720,417]}},"f86919ba-450b-474b-84bb-150c53b590ab":{"position":{"vector":[1438,345]}},"ab48b6d2-fbee-45f9-b53f-0c4655627a0d":{"position":{"vector":[506,260]}},"823e5452-6ddf-48d6-b315-161d5a962a2c":{"position":{"vector":[1720,311]}},"fc96b1f5-b823-4e9b-bfe7-a50fd2b61816":{"position":{"vector":[1084,311]}},"e5c5c591-cbc8-4764-a1a7-5676ae1719ee":{"position":{"vector":[1438,239]}},"4740691a-b3ec-422f-8ae3-bda7346b4e6a":{"position":{"vector":[941,204]}},"b68fd35f-0701-43d7-9290-4319627bca68":{"position":{"vector":[941,239]}},"a405e6a1-cdad-43fe-a9c5-05730a4b2dc0":{"position":{"vector":[1029,498]}},"253c5daf-917c-4c7c-915e-7949ebb646cf":{"position":{"vector":[1029,570]}},"8378a3d8-b8f7-45ac-a0ec-d6b52842a02b":{"position":{"vector":[776,417]},"visualization":{"show":false,"width":782.88671875}},"e6927870-5f06-4984-aa82-8dfa13e6f834":{"position":{"vector":[814,345]},"visualization":{"show":false,"width":805.66796875}},"35f467ea-ace4-44de-bd2f-73bc0f34ee3f":{"position":{"vector":[776,273]},"visualization":{"show":false,"width":868.984375}},"f1d04280-74c5-49c8-8605-48859f65799d":{"position":{"vector":[776,201]},"visualization":{"show":false,"width":897.65234375,"height":276.5390625}},"8d56a574-8889-485a-a125-5f106018999a":{"position":{"vector":[776,129]}},"a36a0793-8299-46d0-a1e3-ac856f882c91":{"position":{"vector":[935,129]}},"805e7d74-a355-4a02-a4c6-5faa034e51e1":{"position":{"vector":[1493,11]},"visualization":{"show":false,"width":856.9043695928553}},"8e01f845-e16e-478a-a303-6a3c228cc972":{"position":{"vector":[985,38]}},"9d6023fe-e42f-45c3-863f-e811d54eaf7a":{"position":{"vector":[985,38]}},"3cf50528-7155-46ff-9163-d9fe9b7779bf":{"position":{"vector":[1493,-89]}},"49197a44-ae91-4f48-a72a-f7c46918d03d":{"position":{"vector":[935,-49]}},"d6e7b3d3-b9a3-4ca2-b3a9-4276b7e364c6":{"position":{"vector":[1427,-181]},"visualization":{"show":false,"height":599.4514803894502}},"7fab946e-cc20-4ad6-95ad-ed3f5c99fd92":{"position":{"vector":[1438,95]}},"23c78a12-4e54-4fd7-871a-6beaca2b4855":{"position":{"vector":[1438,95]}},"eae5d049-6001-45c0-8eab-18c76fdc3d2d":{"position":{"vector":[1461,96]}},"d58c39f0-465f-4a49-a21e-29b622b533e5":{"position":{"vector":[1427,-253]}},"9ca3a232-ea3f-4a56-a035-add91ce17dee":{"position":{"vector":[1438,23]}},"23e6c860-3327-4bd3-9111-000128ded88d":{"position":{"vector":[1438,23]}},"442f7046-1b00-4cfa-ae7e-b7cd2fb06b48":{"position":{"vector":[1427,-325]},"visualization":{"show":false,"width":1216.2649964622583,"height":2334.194164852766}},"5e6e2433-a1e7-4f3e-9cfc-629a0c3ea03d":{"position":{"vector":[1438,-49]}},"77e3c903-5b29-46b4-a4f8-8bf03c39ea74":{"position":{"vector":[1438,-49]}},"c2f5ac1c-1c53-4dc0-87aa-88430e9f1cfa":{"position":{"vector":[1427,-397]},"visualization":{"show":false,"width":1119.2349080858646,"height":2022.6774103981923}},"7acca65b-2e6b-48d7-835e-04f7a5de33b8":{"position":{"vector":[1438,-121]}},"9c399dbe-bc94-420f-b291-c67a2b96d2d9":{"position":{"vector":[1438,-121]}},"d18f9577-b3a7-4ef6-a6c8-58b1f555caea":{"position":{"vector":[1427,-469]}},"dd205d39-ec7c-435f-a110-f2ab669cf58a":{"position":{"vector":[1427,-541]},"visualization":{"show":true,"width":963.819442410646,"height":1132.2512479734894}},"c261bd3a-4a7a-4be3-ac10-850d040e6900":{"position":{"vector":[776,57]},"visualization":{"show":true,"width":179.28055061993004}},"0bd61948-07e8-428a-bcaf-44f39e9e41dc":{"position":{"vector":[776,-169]}},"fcf199e6-d2b1-44b7-be92-a47545d6a593":{"position":{"vector":[-371,527]},"visualization":{"show":false,"width":1027.671875,"height":193}},"c35eb0d9-14ec-47d6-9aa8-5f41d668c156":{"position":{"vector":[-371,455]}},"855eb032-48c9-4b4c-892c-6c4ba34d9ddf":{"position":{"vector":[-371,262]}},"a1a8b489-b13d-4aa3-8e2e-bfa43a94bb58":{"position":{"vector":[-371,383]},"visualization":{"show":false,"width":782.88671875}},"69bcb859-0646-460d-be30-a953dbc9ac1d":{"position":{"vector":[-371,233]}},"6f89d72e-0090-4243-ba6e-57f084fc580d":{"position":{"vector":[-371,233]}},"96dc6744-145b-4576-a271-202aa7bfe88c":{"position":{"vector":[-371,311]},"visualization":{"show":false,"width":805.66796875}},"9b7de8de-fb9f-49f5-8dc7-1b75e1288f24":{"position":{"vector":[-371,239]},"visualization":{"show":false,"width":868.984375}},"3d1e8db8-4093-4177-b054-7e1b51a1a9c2":{"position":{"vector":[-371,89]}},"6c615633-8175-47ee-9f5f-c71aa3261b1f":{"position":{"vector":[-371,89]}},"4ac001dd-ec76-4072-bdac-de24b744dc46":{"position":{"vector":[-371,89]}},"45604ca5-5e4f-4069-a7bd-3783a8fc23b2":{"position":{"vector":[-371,167]},"visualization":{"show":false,"width":897.65234375,"height":276.5390625}},"477f54c6-a15a-471e-bd52-18b1048f5b39":{"position":{"vector":[-371,95]}},"5b52db21-a613-4056-aeb8-971950e17bff":{"position":{"vector":[-371,-55]}},"8c26b5dc-a4d7-4fae-9612-4999999bcf41":{"position":{"vector":[-371,-55]}},"178fe402-1c97-4682-8460-8518e3f357f0":{"position":{"vector":[-371,23]},"visualization":{"show":false,"height":196.546875}},"7c92c2fa-9148-4152-9e20-2c8ff9c29d1f":{"position":{"vector":[-371,-127]}},"2b47d6dc-e2dc-432a-8d89-d3875b6a110d":{"position":{"vector":[-371,-127]}},"961e2e64-0fdd-49c9-b7b0-c96fbae433c6":{"position":{"vector":[-371,-49]}},"53d45068-a9b6-4470-91e9-03f6c9ac9808":{"position":{"vector":[-371,-121]},"visualization":{"show":false,"width":669.3671875,"height":208.640625}},"7791b01e-8a15-4035-ad41-c7f2b8198213":{"position":{"vector":[-301,-545]}},"6547d128-4348-461d-ac01-eacc63774170":{"position":{"vector":[-301,-545]}},"10ad4daa-2726-4715-8027-12db53f55483":{"position":{"vector":[969,239]}},"3037d347-987b-4fde-9a7f-d8f89c5e2a53":{"position":{"vector":[969,23]},"visualization":{"show":false,"width":1277.8808864731968,"height":2272.9713736800263}},"b5d0ce94-7115-4fba-a91e-7086b4ec311d":{"position":{"vector":[969,-26]}},"a3194ff3-1f93-478c-9202-5f6f6a21ed3b":{"position":{"vector":[969,-49]}},"e7208998-9688-425a-abb9-36621003639e":{"position":{"vector":[969,-121]}},"b4fa77f5-3ec3-4249-a76b-87fd6a466ebf":{"position":{"vector":[969,-193]},"visualization":{"show":true}},"7e9a8c44-3302-4f11-bcb9-cfe405ab4ec5":{"position":{"vector":[969,-193]}},"918ab292-a0ec-4b65-a273-f6d0763422fd":{"position":{"vector":[969,-193]}},"d2e6d29d-8181-4876-b51b-48730ad904e9":{"position":{"vector":[1078,150]}},"2d6fe3a2-d00d-44e5-862a-52eb46bc695c":{"position":{"vector":[1327,78]}}},"widget":{},"import":{},"snapshot":"eJytVduO2zYQffdXDBQ0tGsvLfmaBWIX282iKNBk22ySPjiGMCvRjhqKVCnKllL0N/rcb+uXFJQoWfbaecobyTPncIbk4WyUjOFBowhRhfRHTBlEcSKVBuS8szlC3+Ej/wr8CjU+flXg5veHy+BPUm4582+S6HLMg5D7DcfPR3vYYRN0l2OccJY+AT5EaYY8+oI6kqLTefYMfr69fwNbJbOkE0jOMUlZCCgKDyKh2ZYpDxYdAAAhQ+bBAlyaJb6W4LkevFMZa8DRETg+gNoc2hgWlQTV0i9XwMmdAz6x+KiFFy18CgsrRAMl09T/Q0aipr6R+lMktlU0y7XJs06fbqSKUQNxSYmjKF7AoiyRpkxDl+WJAtJdJX6+7q92fr7+nvRLlT7pwXemUNJrkkVRXFf0F6f0oqQXT+hjQy8auudW/Os2P9rAKl+/dEF/YsIM++Z8GU+ZmVT7Q8q0H8uQLSh9n4SoWSPp2YrcU83ioFkYzbHVLNZVUpc1R1bSo2GU6kgEGlYkJwMgBVk3G9uoUbmv898//zrgfECesUO5YytkYjgLtB9InsUiPcgNgJQcq1te6qy+7yktb7pSovQXttH+faaZglWX0rs/M+QpkJz0BtCaF6TXEpvXYjO6iTj3RfVeYFXvCw4cEp7U0XOK261iW9QMVqZsWFF6K0WAmgmzaOngvJV753AoU1vxpM1/Sn4r9wRSlqBCLdWCfBT2AIwP6lObUtTgNsu1TcaHZfvQm5tQcu8HMhP6CO10YoyE9fIm4qWXzX9FFcMQyPB9ylQ6xFBFnBXDWxmy4c397dXIHU2u7kQqh6+w8CbDSCSZpjrXjZuMUClIE1Qp8xv/dhXbshycZNH94WXi58uPYb83KMdFOYadQXZ+vrz6yx14f9f4zi9aK07v9Ele9K3numcdO26/0nOObYgnXp1UxPG3s6p9G5NvZ9RZpTg9k+PUhefPS+2pV4nbRE/xZY2P2vjyKX98Hm/4kwq3HzKY3H/LMFQodHOo8yrh2ZG76qjaZJnQLQPb/21u7KuZ8h85is++kvv0EDOqbetRlQlhtqf0VyXDLNBASkVyoZO5bmWlHQu0NB3PtqoYE4iult3XGAl62h577XZimU3zOm58ZbfAMDQZ+yKLH5lqNxPb16ramk+l/s1g6rq9oy5bJYca5tfe7OhrOJdoyer8D2b7tN4="}}